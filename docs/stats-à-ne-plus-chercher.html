<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Cours 25 Stats à ne plus chercher | Utilisation_cluster_de_calcul</title>
  <meta name="description" content="Description." />
  <meta name="generator" content="bookdown 0.42 and GitBook 2.6.7" />

  <meta property="og:title" content="Cours 25 Stats à ne plus chercher | Utilisation_cluster_de_calcul" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Description." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Cours 25 Stats à ne plus chercher | Utilisation_cluster_de_calcul" />
  
  <meta name="twitter:description" content="Description." />
  

<meta name="author" content="Vincyane" />


<meta name="date" content="2025-04-17" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="shiny-cours.html"/>
<link rel="next" href="version-seulment-corr-0.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script async defer src="https://hypothes.is/embed.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">My_cours</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="divider"></li>
<li><a href="https://github.com/VincyaneBadouard/My_cours" target="blank">Source</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Utilisation_cluster_de_calcul</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div class = rmdreview>
This book is in <b><a href="open.html#open">Open Review</a></b>. I want your feedback to make the book better for you and other readers. To add your annotation, <span style="background-color: #3297FD; color: white">select some text</span> and then click the <i class="h-icon-annotate"></i> on the pop-up menu. To see the annotations of others, click the <i class="h-icon-chevron-left"></i> in the upper right hand corner of the page <i class="fa fa-arrow-circle-right  fa-rotate-315" aria-hidden="true"></i>
</div>
<div id="stats-à-ne-plus-chercher" class="section level1 hasAnchor" number="25">
<h1><span class="header-section-number">Cours 25</span> Stats à ne plus chercher<a href="stats-à-ne-plus-chercher.html#stats-à-ne-plus-chercher" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="inférer-des-données" class="section level2 hasAnchor" number="25.1">
<h2><span class="header-section-number">25.1</span> Inférer des données<a href="stats-à-ne-plus-chercher.html#inférer-des-données" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>= Remplacer les NA selon les autres variables</p>
<p>MICEinf &lt;- mice(data, maxit=100) 100 itérations, methodes par défault
<em>Visualiser les valeurs produites</em>
MICEinf<span class="math inline">\(imp\)</span>varinf
<em>Mettre ces valeurs inférées dans ma base</em>
Data_completed &lt;- complete(MICEinf,5) ici j’ai pris la 5eme (m) estimation</p>
</div>
<div id="standardizer-centrer-réduire" class="section level2 hasAnchor" number="25.2">
<h2><span class="header-section-number">25.2</span> Standardizer (centrer-réduire)<a href="stats-à-ne-plus-chercher.html#standardizer-centrer-réduire" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Quand standardiser?
- <strong>Nature</strong> différente des variables
- Gammes de <strong>variations</strong> des variables très différentes
- Variables dans des <strong>unités différentes</strong></p>
<p>Uniquement centré : uniquement quand variables de meme unite et de meme gamme de valeurs.</p>
<p>as.vector(scale())
ou (var-mean(var))/sd(var)</p>
<p>vérifiaction :
- round(mean(var),2) la moyenne arrondie du ph doit etre =0
- sd(var) doit etre =1</p>
<p>ou</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="stats-à-ne-plus-chercher.html#cb110-1" tabindex="-1"></a>d<span class="ot">=</span><span class="fu">as.data.frame</span>(<span class="fu">scale</span>(data))</span>
<span id="cb110-2"><a href="stats-à-ne-plus-chercher.html#cb110-2" tabindex="-1"></a><span class="fu">boxplot</span>(d)</span></code></pre></div>
</div>
<div id="régression" class="section level2 hasAnchor" number="25.3">
<h2><span class="header-section-number">25.3</span> Régression<a href="stats-à-ne-plus-chercher.html#régression" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Pour : var explicative quantitative
+ droite de régression linéaire au sens des moindres carrés : <strong>abline(lm(y<sub>x))<strong>
Pour récupérer les paramètres de la droite : </strong>lm(y</sub>x)$coefficients</strong><br />
La 1ere valeur (Intercept) correspond à l’ordonnée à l’origine<br />
la 2nde au coefficient directeur de la droite.</p>
<ul>
<li>linéaire de degré 1 : <strong>stat_smooth(method = “lm”, formula = y ~ x)</strong></li>
<li>qudratique :</li>
</ul>
</div>
<div id="analyse-de-variance-déviance" class="section level2 hasAnchor" number="25.4">
<h2><span class="header-section-number">25.4</span> Analyse de variance / déviance<a href="stats-à-ne-plus-chercher.html#analyse-de-variance-déviance" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Pour : var explicative qualitatives</p>
</div>
<div id="analyse-de-la-covariance" class="section level2 hasAnchor" number="25.5">
<h2><span class="header-section-number">25.5</span> Analyse de la covariance<a href="stats-à-ne-plus-chercher.html#analyse-de-la-covariance" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Pour : var explicatives quantitatives et qualitatives</p>
</div>
<div id="acp-analyse-en-composantes-principales-tp3-décologie-numérique" class="section level2 hasAnchor" number="25.6">
<h2><span class="header-section-number">25.6</span> ACP Analyse en Composantes Principales (TP3 d’écologie numérique)<a href="stats-à-ne-plus-chercher.html#acp-analyse-en-composantes-principales-tp3-décologie-numérique" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Pour : analyse de plusieurs variables quantitatives ou ordinales
- Représentation graphique
- Analyse des corrélations
- Réduction de dimension</p>
<p>L’objectif est de définir de <strong>nouvelles variables</strong> (<strong>composantes principales</strong>) comme étant des <strong>combinaisons linéaires</strong> des variables d’origine, telles qu’elles soient:
- non redondantes
- <strong>Non corrélées</strong>(=indépendantes : angle de 90°):
- <strong>De variances maximales</strong> et décroissantes (= sont ordonnées)</p>
<p>Etapes :
1) standardiser les données
2) calcul de la matrice de covariance (symétrique) (cor())
3) calcul des valeurs propres
4) selection des composantes principales
5) Transformation des données dans le nouvel espace</p>
<div id="pour-gerer-ces-donnees-manquantes-il-serait-possible-de" class="section level3 hasAnchor" number="25.6.1">
<h3><span class="header-section-number">25.6.1</span> Pour gerer ces donnees manquantes il serait possible de :<a href="stats-à-ne-plus-chercher.html#pour-gerer-ces-donnees-manquantes-il-serait-possible-de" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ol style="list-style-type: lower-roman">
<li>les retirer (individus ou variables) ou si peu de variables :</li>
<li>utiliser PCA() de FactoMineR qui remplace (“impute”) les NA par la valeur moyenne de la variable (approche “grossiere”), ou :</li>
<li>la plus juste : utiliser une ACP iterative regularisee avec la fonction imputePCA() du package missMDA, voir video pour plus de details : <a href="http://factominer.free.fr/missMDA/PCA-fr.html" class="uri">http://factominer.free.fr/missMDA/PCA-fr.html</a></li>
</ol>
<ul>
<li>ACP normee : <strong>acp &lt;- ade4::dudi.pca(data, scale=T, center=T, nf = 4, scannf = FALSE)</strong>
nf : nbr d’axes à garder
Uniquement centré : uniquement quand variables de meme unite et de meme gamme de valeurs.</li>
</ul>
<p>barplot(acp<span class="math inline">\(eig) # Valeurs propres
mean(acp1\)</span>eig) doit être =1</p>
</div>
<div id="calcul-du-dexplication-de-chaque-axe-inertie" class="section level3 hasAnchor" number="25.6.2">
<h3><span class="header-section-number">25.6.2</span> Calcul du % d’explication de chaque axe (inertie)<a href="stats-à-ne-plus-chercher.html#calcul-du-dexplication-de-chaque-axe-inertie" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Quel est le nombre de composantes principales expliquant un minimum de x % de l’information (ou inertie totale).<br />
Ce pourcentage d’inertie est calculé en divisant la valeur propre d’un axe par le nombre d’axes possibles (égal au nombre de variables du tableau de départ)</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="stats-à-ne-plus-chercher.html#cb111-1" tabindex="-1"></a>pc <span class="ot">&lt;-</span> <span class="fu">round</span>(acp1<span class="sc">$</span>eig<span class="sc">/</span><span class="fu">sum</span>(acp1<span class="sc">$</span>eig)<span class="sc">*</span><span class="dv">100</span>,<span class="dv">2</span>)<span class="co">#arrondi a 2 chiffres apres la virgule </span></span>
<span id="cb111-2"><a href="stats-à-ne-plus-chercher.html#cb111-2" tabindex="-1"></a>pc <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(pc)) <span class="co">#passer de character a numerique</span></span>
<span id="cb111-3"><a href="stats-à-ne-plus-chercher.html#cb111-3" tabindex="-1"></a>pc <span class="co">#72.96 22.85  3.67  0.52</span></span>
<span id="cb111-4"><a href="stats-à-ne-plus-chercher.html#cb111-4" tabindex="-1"></a><span class="co"># ne retenir que les plus explicatifs (generalement &gt; 10% de variation) (ici les 2 1ers)</span></span>
<span id="cb111-5"><a href="stats-à-ne-plus-chercher.html#cb111-5" tabindex="-1"></a><span class="co"># % cumules</span></span>
<span id="cb111-6"><a href="stats-à-ne-plus-chercher.html#cb111-6" tabindex="-1"></a><span class="fu">cumsum</span>(pc)</span>
<span id="cb111-7"><a href="stats-à-ne-plus-chercher.html#cb111-7" tabindex="-1"></a></span>
<span id="cb111-8"><a href="stats-à-ne-plus-chercher.html#cb111-8" tabindex="-1"></a><span class="co"># ou </span></span>
<span id="cb111-9"><a href="stats-à-ne-plus-chercher.html#cb111-9" tabindex="-1"></a>data.pca <span class="ot">&lt;-</span> <span class="fu">princomp</span>(corr_matrix) <span class="co"># l&#39;ACP</span></span>
<span id="cb111-10"><a href="stats-à-ne-plus-chercher.html#cb111-10" tabindex="-1"></a><span class="fu">summary</span>(data.pca) <span class="co"># les statitisques de l&#39;ACP</span></span>
<span id="cb111-11"><a href="stats-à-ne-plus-chercher.html#cb111-11" tabindex="-1"></a>data.pca<span class="sc">$</span>loadings[, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>] <span class="co"># relation variables-composantes principales 1 et 2</span></span>
<span id="cb111-12"><a href="stats-à-ne-plus-chercher.html#cb111-12" tabindex="-1"></a><span class="fu">fviz_eig</span>(data.pca, <span class="at">addlabels =</span> <span class="cn">TRUE</span>) <span class="co"># eigenvalues plot (scree plot)</span></span>
<span id="cb111-13"><a href="stats-à-ne-plus-chercher.html#cb111-13" tabindex="-1"></a><span class="fu">fviz_pca_var</span>(data.pca, <span class="at">col.var =</span> <span class="st">&quot;black&quot;</span>) <span class="co"># Biplot of the variables</span></span>
<span id="cb111-14"><a href="stats-à-ne-plus-chercher.html#cb111-14" tabindex="-1"></a><span class="fu">fviz_cos2</span>(data.pca, <span class="at">choice =</span> <span class="st">&quot;var&quot;</span>, <span class="at">axes =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>) <span class="co"># COS2 plot (contribution of each variable) ou :</span></span>
<span id="cb111-15"><a href="stats-à-ne-plus-chercher.html#cb111-15" tabindex="-1"></a><span class="fu">corrplot</span>(data.pca<span class="sc">$</span>cos2, <span class="at">is.corr=</span><span class="cn">FALSE</span>)</span>
<span id="cb111-16"><a href="stats-à-ne-plus-chercher.html#cb111-16" tabindex="-1"></a><span class="fu">fviz_pca_var</span>(data.pca, <span class="co"># Biplot combined with cos2 </span></span>
<span id="cb111-17"><a href="stats-à-ne-plus-chercher.html#cb111-17" tabindex="-1"></a>             <span class="at">col.var =</span> <span class="st">&quot;cos2&quot;</span>, <span class="co"># ou alpha.var = &quot;cos2&quot;</span></span>
<span id="cb111-18"><a href="stats-à-ne-plus-chercher.html#cb111-18" tabindex="-1"></a>             <span class="at">gradient.cols =</span> <span class="fu">c</span>(<span class="st">&quot;#00AFBB&quot;</span>, <span class="st">&quot;#E7B800&quot;</span>, <span class="st">&quot;#FC4E07&quot;</span>),</span>
<span id="cb111-19"><a href="stats-à-ne-plus-chercher.html#cb111-19" tabindex="-1"></a>             <span class="at">repel =</span> <span class="cn">TRUE</span>) <span class="co"># Avoid text overlapping </span></span>
<span id="cb111-20"><a href="stats-à-ne-plus-chercher.html#cb111-20" tabindex="-1"></a></span>
<span id="cb111-21"><a href="stats-à-ne-plus-chercher.html#cb111-21" tabindex="-1"></a><span class="fu">fviz_pca_ind</span>(data.pca, <span class="co"># Biplot combined with cos2 </span></span>
<span id="cb111-22"><a href="stats-à-ne-plus-chercher.html#cb111-22" tabindex="-1"></a>             <span class="at">col.var =</span> <span class="st">&quot;cos2&quot;</span>, <span class="co"># ou alpha.var = &quot;cos2&quot;</span></span>
<span id="cb111-23"><a href="stats-à-ne-plus-chercher.html#cb111-23" tabindex="-1"></a>             <span class="at">gradient.cols =</span> <span class="fu">c</span>(<span class="st">&quot;#00AFBB&quot;</span>, <span class="st">&quot;#E7B800&quot;</span>, <span class="st">&quot;#FC4E07&quot;</span>),</span>
<span id="cb111-24"><a href="stats-à-ne-plus-chercher.html#cb111-24" tabindex="-1"></a>             <span class="at">repel =</span> <span class="cn">TRUE</span>) <span class="co"># Avoid text overlapping </span></span>
<span id="cb111-25"><a href="stats-à-ne-plus-chercher.html#cb111-25" tabindex="-1"></a></span>
<span id="cb111-26"><a href="stats-à-ne-plus-chercher.html#cb111-26" tabindex="-1"></a><span class="fu">fviz_pca_ind</span>(iris.pca,</span>
<span id="cb111-27"><a href="stats-à-ne-plus-chercher.html#cb111-27" tabindex="-1"></a>             <span class="at">geom.ind =</span> <span class="st">&quot;point&quot;</span>, <span class="co"># show points only (nbut not &quot;text&quot;)</span></span>
<span id="cb111-28"><a href="stats-à-ne-plus-chercher.html#cb111-28" tabindex="-1"></a>             <span class="at">col.ind =</span> iris<span class="sc">$</span>Species, <span class="co"># color by groups</span></span>
<span id="cb111-29"><a href="stats-à-ne-plus-chercher.html#cb111-29" tabindex="-1"></a>             <span class="at">palette =</span> <span class="fu">c</span>(<span class="st">&quot;#00AFBB&quot;</span>, <span class="st">&quot;#E7B800&quot;</span>, <span class="st">&quot;#FC4E07&quot;</span>),</span>
<span id="cb111-30"><a href="stats-à-ne-plus-chercher.html#cb111-30" tabindex="-1"></a>             <span class="at">addEllipses =</span> <span class="cn">TRUE</span>, <span class="co"># Concentration ellipses</span></span>
<span id="cb111-31"><a href="stats-à-ne-plus-chercher.html#cb111-31" tabindex="-1"></a>             <span class="at">legend.title =</span> <span class="st">&quot;Groups&quot;</span></span>
<span id="cb111-32"><a href="stats-à-ne-plus-chercher.html#cb111-32" tabindex="-1"></a>             ) <span class="co"># To remove the group mean point, specify the argument mean.point = FALSE. If you want confidence ellipses instead of concentration ellipses, use ellipse.type = “confidence”.</span></span></code></pre></div>
</div>
<div id="cercle-de-correlation-pour-une-acp-normee" class="section level3 hasAnchor" number="25.6.3">
<h3><span class="header-section-number">25.6.3</span> Cercle de correlation (pour une ACP normee)<a href="stats-à-ne-plus-chercher.html#cercle-de-correlation-pour-une-acp-normee" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>La longueur des flèches indique la part de leur information représentée par les deux axes.<br />
L’angle entre deux flèches représente la corrélation qui les lie : angle aigu = positive ; angle droit = nulle ; angle obtus = négative.</p>
<ul>
<li><p>Une variable est <strong>bien représentée</strong> si la longueur de son vecteur est proche de 1 (=proche du cercle).</p></li>
<li><p>Pour les variables bien représentées, les angles indiquent les corrélations entre:</p></li>
<li><p>Variables et composantes principales :
les variables très proches de l’axe sont donc les variables redondantes qui définissent la composante principale qu’on a créé.</p></li>
<li><p>Variables entre elles (angle petit -&gt; forte corrélation (=COS~1)) (angle proche de 90° -&gt; corrélation nulle)</p></li>
</ul>
<p>Si les flèches sont trop courtes, les axes ne peuvent pas être interprétés.</p>
<ul>
<li><p>version simple :
<strong>pca &lt;- FactoMineR::PCA(data, scale.unit = T,)</strong>
<strong>plot.PCA (pca, choix=“ind”, invisible=“ind.sup”)</strong>
<strong>plot.PCA (pca, choix=“var”, invisible=“ind.sup”)</strong>
<strong>fviz_pca_var(pca, axes = 1:2)</strong></p></li>
<li><p>Version plus brute :
<strong>s.corcircle(acp1$co, xax=1, yax=2)</strong> $co : column coordinates (variables) = corre des variables sur les composantes factorielles</p></li>
<li><p>Representation des variables dans le cas d’une ACP centree :
<strong>s.arrow(acp$co)</strong></p></li>
</ul>
<p><strong>s.label(acp$li[,1:2], clabel=0.5)</strong> representation des individus sur les axes 1 et 2</p>
<p><strong>s.label(acp1$li, label=Species)</strong> avec leur nom d’sp</p>
<p>Coordonnees des individus sur l’axe 1 (x) en fct de leur valeur pour chaque variable (y) :
<strong>score(acp)</strong> en ordonnees les valeurs des variables (cm)</p>
<ul>
<li>Biplot (attention a l’interpretation)
<strong>scatter(acp)</strong> projection des individus et des var sur le meme graph</li>
</ul>
<p>Les individus les plus éloignés du centre du nuage de points et les flèches les plus longues pour les variables, sont ceux qui sont le mieux représentés par les axes.</p>
</div>
<div id="representation-dune-variable-explicative-qualitative" class="section level3 hasAnchor" number="25.6.4">
<h3><span class="header-section-number">25.6.4</span> Representation d’une variable explicative qualitative :<a href="stats-à-ne-plus-chercher.html#representation-dune-variable-explicative-qualitative" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><a href="http://www.sthda.com/french/articles/38-methodes-des-composantes-principales-dans-r-guide-pratique/73-acp-analyse-en-composantes-principales-avec-r-l-essentiel/" class="uri">http://www.sthda.com/french/articles/38-methodes-des-composantes-principales-dans-r-guide-pratique/73-acp-analyse-en-composantes-principales-avec-r-l-essentiel/</a></p>
<p><strong>s.class(acp$li, iris[,5], col=c(1:length(iris[,5])))</strong>
L’ellipse est un resume graphique et non un intervalle de confiance.
Elle regroupe environ 67% des valeurs si cellipse = 1.5 (valeur par default),
ou 95% si cellipse = 2.5 ; ceci si le nuage est un échantillon aléatoire simple d’une loi normale bivariée : voir details <a href="https://pbil.univ-lyon1.fr/R/pdf/qr3.pdf" class="uri">https://pbil.univ-lyon1.fr/R/pdf/qr3.pdf</a></p>
<ul>
<li>Sans ellipses : 67% des données
<strong>s.class(acp1$li, iris[,5], cellipse=F, col=c(“purple”,“orange”,“green”))</strong></li>
<li>Sans lignes :
<strong>s.class(acp1$li, iris[,5], cstar=F, col=rainbow(3))</strong></li>
</ul>
<p>Si un 3eme axe avait ete pertinent a analyser, il est possible de realiser une representation 3D :
<a href="https://planspace.org/2013/02/03/pca-3d-visualization-and-clustering-in-r/" class="uri">https://planspace.org/2013/02/03/pca-3d-visualization-and-clustering-in-r/</a></p>
</div>
<div id="data-transformation-in-new-dimensional-space" class="section level3 hasAnchor" number="25.6.5">
<h3><span class="header-section-number">25.6.5</span> Data transformation in new dimensional space<a href="stats-à-ne-plus-chercher.html#data-transformation-in-new-dimensional-space" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>This reorientation is done by multiplying the original data by the previously computed eigenvectors.</p>
</div>
</div>
<div id="afc-analyse-factorielle-des-correspondances" class="section level2 hasAnchor" number="25.7">
<h2><span class="header-section-number">25.7</span> AFC Analyse Factorielle des Correspondances<a href="stats-à-ne-plus-chercher.html#afc-analyse-factorielle-des-correspondances" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Pour : 2 variables qualitatites</p>
</div>
<div id="acm-analyse-des-correspondances-multiples" class="section level2 hasAnchor" number="25.8">
<h2><span class="header-section-number">25.8</span> ACM Analyse des Correspondances Multiples<a href="stats-à-ne-plus-chercher.html#acm-analyse-des-correspondances-multiples" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Pour : &gt;2 variables qualitatives</p>
</div>
<div id="analyse-mixteanalyse-factorielle-multiple" class="section level2 hasAnchor" number="25.9">
<h2><span class="header-section-number">25.9</span> Analyse mixte/Analyse factorielle multiple<a href="stats-à-ne-plus-chercher.html#analyse-mixteanalyse-factorielle-multiple" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Pour : variables quantitatives et qualitatives</p>
</div>
<div id="corrélations" class="section level2 hasAnchor" number="25.10">
<h2><span class="header-section-number">25.10</span> Corrélations<a href="stats-à-ne-plus-chercher.html#corrélations" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Pearson ou Spearman ?
Pearson : relations lineaires monotones
Spearman : pas lineaires monotones et à valeurs extremes</p>
<ul>
<li><p>simplement Pearson : <strong>cor(data)</strong></p></li>
<li><p>simplement Spearman : <strong>cor(data, method = “spearman”)</strong>
<strong>cor.test(var1, var2, method= “spearman”)</strong></p></li>
<li><p>par indices : <strong>by(datatocor, INDICES = colindex, cor)</strong></p></li>
</ul>
<div id="draftsman-plot-pour-étudier-les-variables-et-leur-relation" class="section level3 hasAnchor" number="25.10.1">
<h3><span class="header-section-number">25.10.1</span> Draftsman plot pour étudier les variables et leur relation<a href="stats-à-ne-plus-chercher.html#draftsman-plot-pour-étudier-les-variables-et-leur-relation" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>(pour moins de 10 variables)
histograms and correlations
L’ACP se prête mieux à l’analyse de relations linéaires et de variables
ayant une distribution symétrique qu’on peut vérifier avec pairs.panels</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="stats-à-ne-plus-chercher.html#cb112-1" tabindex="-1"></a><span class="fu">pairs.panels</span>(iris, </span>
<span id="cb112-2"><a href="stats-à-ne-plus-chercher.html#cb112-2" tabindex="-1"></a>             <span class="at">method =</span> <span class="st">&quot;spearman&quot;</span>, <span class="co">#coef de correlation de Spearman à droite</span></span>
<span id="cb112-3"><a href="stats-à-ne-plus-chercher.html#cb112-3" tabindex="-1"></a>             <span class="at">hist.col =</span> <span class="st">&quot;#00AFBB&quot;</span>,</span>
<span id="cb112-4"><a href="stats-à-ne-plus-chercher.html#cb112-4" tabindex="-1"></a>             <span class="at">density =</span> <span class="cn">TRUE</span>,  <span class="co"># affiche la courbe de densite</span></span>
<span id="cb112-5"><a href="stats-à-ne-plus-chercher.html#cb112-5" tabindex="-1"></a>             <span class="at">ellipses =</span> T) <span class="co"># show correlation ellipses (interprétable que pour les var quanti)</span></span></code></pre></div>
<p><em>Une base de données uniquement quantitatives et sans NA à tester :</em>
baseforcor &lt;- data %&gt;%
select(-var quali) %&gt;%
na.omit()</p>
<p><em>pas besoin de tester la normalité si n&gt;30.</em></p>
<p><em>Construire une matrice de corrélation :</em>
CorMatrix1 &lt;- round(cor(baseforcor, use = “pairwise.complete.obs”), digits = 2) # matrice de corrélation, avec 2 décimales</p>
<p>CorMatrixS &lt;- Hmisc::rcorr(as.matrix(baseforcor))
CorMatrix &lt;- CorMatrixS$r</p>
<p><em>avec les p-values :</em>
Pval_corr &lt;- CorMatrixS$P</p>
<p><em>Plot de la matrice de corrélation :</em>
<a href="http://www.sthda.com/french/wiki/visualiser-une-matrice-de-correlation-par-un-correlogramme" class="uri">http://www.sthda.com/french/wiki/visualiser-une-matrice-de-correlation-par-un-correlogramme</a></p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="stats-à-ne-plus-chercher.html#cb113-1" tabindex="-1"></a><span class="fu">corrplot</span>(CorMatrix, <span class="at">method=</span><span class="st">&quot;circle&quot;</span>, <span class="at">type=</span><span class="st">&quot;lower&quot;</span>, <span class="at">diag =</span> F,</span>
<span id="cb113-2"><a href="stats-à-ne-plus-chercher.html#cb113-2" tabindex="-1"></a>         <span class="at">col=</span><span class="fu">brewer.pal</span>(<span class="at">n=</span><span class="dv">8</span>, <span class="at">name=</span><span class="st">&quot;PuOr&quot;</span>), <span class="co"># &quot;PuBu&quot;</span></span>
<span id="cb113-3"><a href="stats-à-ne-plus-chercher.html#cb113-3" tabindex="-1"></a>         <span class="at">addCoef.col =</span> <span class="st">&#39;white&#39;</span>, </span>
<span id="cb113-4"><a href="stats-à-ne-plus-chercher.html#cb113-4" tabindex="-1"></a>         <span class="at">number.cex =</span> <span class="fl">0.7</span>, </span>
<span id="cb113-5"><a href="stats-à-ne-plus-chercher.html#cb113-5" tabindex="-1"></a>         <span class="at">is.corr =</span> F, <span class="co"># to range the legend with the values</span></span>
<span id="cb113-6"><a href="stats-à-ne-plus-chercher.html#cb113-6" tabindex="-1"></a>         <span class="at">col.lim=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="co"># to limit the legend</span></span>
<span id="cb113-7"><a href="stats-à-ne-plus-chercher.html#cb113-7" tabindex="-1"></a>         <span class="at">tl.col=</span><span class="st">&quot;black&quot;</span>, <span class="at">tl.cex =</span> <span class="dv">1</span>, <span class="at">tl.srt=</span><span class="dv">45</span>,</span>
<span id="cb113-8"><a href="stats-à-ne-plus-chercher.html#cb113-8" tabindex="-1"></a>         <span class="at">p.mat =</span> Pval_corr) <span class="co">#avec une croix pour les p-value &gt; 0.05 (sig.level = 0.05)</span></span></code></pre></div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="shiny-cours.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="version-seulment-corr-0.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
